(()=>{"use strict";var e={668:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(769);window.VI=window.VI||{},window.VI.Widgets=window.VI.Widgets||{},window.VI.Widgets.Insights=r.VIInsightsWidget,window.VI.Widgets.CustomInsights=r.CustomInsightsWidget},150:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(668),t),i(n(470),t)},470:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(769),t)},974:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},951:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseWidget=void 0;var r=n(230),i=function(){function e(e,t){if(this.elementID=e,this._baseUrl="https://www.videoindexer.ai",!e)throw new r.WidgetGeneralError("selector is required");if(!t)throw new r.WidgetGeneralError("widget options are required");this.iframe=document.createElement("iframe"),this.iframe.width=""+t.width,this.iframe.height=""+t.height}return e.prototype.render=function(){var e=document.querySelector("#"+this.elementID);if(!e)throw new r.WidgetGeneralError("Can't find element #"+this.elementID);this.iframe.src=this.iframeUrl,null==e||e.appendChild(this.iframe),window.addEventListener("message",this.communicate.bind(this),!1)},Object.defineProperty(e.prototype,"baseUrl",{get:function(){return this._baseUrl},set:function(e){this._baseUrl=e},enumerable:!1,configurable:!0}),e}();t.BaseWidget=i},252:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(951),t)},230:function(e,t){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetGeneralError=void 0;var i=function(e){function t(n){var r=e.call(this,t.errorName+": message")||this;return r.message=n,r.name=t.errorName,r}return r(t,e),t.errorName="WidgetGeneralError",t}(Error);t.WidgetGeneralError=i},515:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(230),t),i(n(733),t)},733:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},769:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(515),t),i(n(341),t),i(n(974),t),i(n(148),t),i(n(264),t)},933:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomInsightsWidget=void 0;var s=n(252),a=n(230),c=n(544),u=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;if(!r)throw new a.WidgetGeneralError("config options are required");return i.config=o({},r),i}return i(t,e),Object.defineProperty(t.prototype,"iframeUrl",{get:function(){var e,t,n,r,i=new URL(this.baseUrl+"/embed/insights");return(null===(e=this.config)||void 0===e?void 0:e.locale)&&i.searchParams.append("locale",null===(t=this.config)||void 0===t?void 0:t.locale),this.config.accessToken&&i.searchParams.append("accessToken",null===(n=this.config)||void 0===n?void 0:n.accessToken),this.config.location&&i.searchParams.append("location",null===(r=this.config)||void 0===r?void 0:r.location),i.href},enumerable:!1,configurable:!0}),t.prototype.communicate=function(e){var t,n;if(e){var r=e.origin,i=e.data;if((null==i?void 0:i.type)===c.CustomInsightsWidgetMessage.INSIGHTS_WIDGET_LOADED&&"postMessage"in window){var s=o({type:c.CustomInsightsWidgetMessage.CUSTOM_INSIGHTS_WIDGET_INIT},this.config);try{null===(n=null===(t=this.iframe)||void 0===t?void 0:t.contentWindow)||void 0===n||n.postMessage(s,r)}catch(e){throw new a.WidgetGeneralError("Error getting widget configuration")}}}},t}(s.BaseWidget);t.CustomInsightsWidget=u},544:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CustomInsightsWidgetMessage=void 0,(n=t.CustomInsightsWidgetMessage||(t.CustomInsightsWidgetMessage={})).INSIGHTS_WIDGET_LOADED="INSIGHTS_WIDGET_LOADED",n.CUSTOM_INSIGHTS_WIDGET_INIT="CUSTOM_INSIGHTS_WIDGET_INIT"},681:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(544),t),i(n(158),t)},158:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},780:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomInsightsWidget=void 0,i(n(681),t);var o=n(933);Object.defineProperty(t,"CustomInsightsWidget",{enumerable:!0,get:function(){return o.CustomInsightsWidget}})},921:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(748),t),i(n(746),t)},748:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},746:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},341:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(962),t),i(n(780),t),i(n(921),t)},195:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InsightsWidgetMessage=void 0;var r=n(484);Object.defineProperty(t,"InsightsWidgetMessage",{enumerable:!0,get:function(){return r.InsightsWidgetMessage}})},484:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.InsightsWidgetMessage=void 0,(n=t.InsightsWidgetMessage||(t.InsightsWidgetMessage={})).INSIGHTS_WIDGET_LOADED="INSIGHTS_WIDGET_LOADED",n.INSIGHTS_WIDGET_INIT="INSIGHTS_WIDGET_INIT"},962:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.VIInsightsWidget=void 0,i(n(195),t);var o=n(263);Object.defineProperty(t,"VIInsightsWidget",{enumerable:!0,get:function(){return o.VIInsightsWidget}})},263:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.VIInsightsWidget=void 0;var s=n(252),a=n(230),c=n(484),u=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;if(!r)throw new a.WidgetGeneralError("config options are required");return i.config=o({},r),i}return i(t,e),Object.defineProperty(t.prototype,"iframeUrl",{get:function(){var e,t,n,r,i=new URL(this.baseUrl+"/embed/insights");return(null===(e=this.config)||void 0===e?void 0:e.locale)&&i.searchParams.append("locale",null===(t=this.config)||void 0===t?void 0:t.locale),this.config.accessToken&&i.searchParams.append("accessToken",null===(n=this.config)||void 0===n?void 0:n.accessToken),this.config.location&&i.searchParams.append("location",null===(r=this.config)||void 0===r?void 0:r.location),i.href},enumerable:!1,configurable:!0}),t.prototype.communicate=function(e){var t,n;if(e){var r=e.origin,i=e.data;if((null==i?void 0:i.type)===c.InsightsWidgetMessage.INSIGHTS_WIDGET_LOADED&&"postMessage"in window){var s=o({type:c.InsightsWidgetMessage.INSIGHTS_WIDGET_INIT},this.config);try{null===(n=null===(t=this.iframe)||void 0===t?void 0:t.contentWindow)||void 0===n||n.postMessage(s,r)}catch(e){throw new a.WidgetGeneralError("Error getting widget configuration")}}}},t}(s.BaseWidget);t.VIInsightsWidget=u},148:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},264:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})}},t={};!function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(150)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWRlby1pbmRleGVyLXdpZGdldHMtc2RrLy4vZ2xvYmFsLmRlZmluaXRpb25zLnRzIiwid2VicGFjazovL3ZpZGVvLWluZGV4ZXItd2lkZ2V0cy1zZGsvLi9pbmRleC50cyIsIndlYnBhY2s6Ly92aWRlby1pbmRleGVyLXdpZGdldHMtc2RrLy4vbnBtLmRlZmluaXRpb25zLnRzIiwid2VicGFjazovL3ZpZGVvLWluZGV4ZXItd2lkZ2V0cy1zZGsvLi9zcmMvd2lkZ2V0cy9iYXNlL2Jhc2Utd2lkZ2V0LnRzIiwid2VicGFjazovL3ZpZGVvLWluZGV4ZXItd2lkZ2V0cy1zZGsvLi9zcmMvd2lkZ2V0cy9iYXNlL2luZGV4LnRzIiwid2VicGFjazovL3ZpZGVvLWluZGV4ZXItd2lkZ2V0cy1zZGsvLi9zcmMvd2lkZ2V0cy9jb21tb24vZXJyb3IudHMiLCJ3ZWJwYWNrOi8vdmlkZW8taW5kZXhlci13aWRnZXRzLXNkay8uL3NyYy93aWRnZXRzL2NvbW1vbi9pbmRleC50cyIsIndlYnBhY2s6Ly92aWRlby1pbmRleGVyLXdpZGdldHMtc2RrLy4vc3JjL3dpZGdldHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vdmlkZW8taW5kZXhlci13aWRnZXRzLXNkay8uL3NyYy93aWRnZXRzL2luc2lnaHRzL2N1c3RvbS1pbnNpZ2h0cy9jdXN0b20taW5zaWdodHMtd2lkZ2V0LnRzIiwid2VicGFjazovL3ZpZGVvLWluZGV4ZXItd2lkZ2V0cy1zZGsvLi9zcmMvd2lkZ2V0cy9pbnNpZ2h0cy9jdXN0b20taW5zaWdodHMvZGVmaW5pdGlvbnMvY3VzdG9tLWluc2lnaHRzLWNvbmZpZy5kZWZpbml0aW9ucy50cyIsIndlYnBhY2s6Ly92aWRlby1pbmRleGVyLXdpZGdldHMtc2RrLy4vc3JjL3dpZGdldHMvaW5zaWdodHMvY3VzdG9tLWluc2lnaHRzL2RlZmluaXRpb25zL2luZGV4LnRzIiwid2VicGFjazovL3ZpZGVvLWluZGV4ZXItd2lkZ2V0cy1zZGsvLi9zcmMvd2lkZ2V0cy9pbnNpZ2h0cy9jdXN0b20taW5zaWdodHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vdmlkZW8taW5kZXhlci13aWRnZXRzLXNkay8uL3NyYy93aWRnZXRzL2luc2lnaHRzL2RlZmluaXRpb25zL2luZGV4LnRzIiwid2VicGFjazovL3ZpZGVvLWluZGV4ZXItd2lkZ2V0cy1zZGsvLi9zcmMvd2lkZ2V0cy9pbnNpZ2h0cy9pbmRleC50cyIsIndlYnBhY2s6Ly92aWRlby1pbmRleGVyLXdpZGdldHMtc2RrLy4vc3JjL3dpZGdldHMvaW5zaWdodHMvdmktaW5zaWdodHMvZGVmaW5pdGlvbnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vdmlkZW8taW5kZXhlci13aWRnZXRzLXNkay8uL3NyYy93aWRnZXRzL2luc2lnaHRzL3ZpLWluc2lnaHRzL2RlZmluaXRpb25zL3ZpLXdpZGdldC1jb25maWcuZGVmaW5pdGlvbnMudHMiLCJ3ZWJwYWNrOi8vdmlkZW8taW5kZXhlci13aWRnZXRzLXNkay8uL3NyYy93aWRnZXRzL2luc2lnaHRzL3ZpLWluc2lnaHRzL2luZGV4LnRzIiwid2VicGFjazovL3ZpZGVvLWluZGV4ZXItd2lkZ2V0cy1zZGsvLi9zcmMvd2lkZ2V0cy9pbnNpZ2h0cy92aS1pbnNpZ2h0cy92aS1pbnNpZ2h0cy13aWRnZXQudHMiLCJ3ZWJwYWNrOi8vdmlkZW8taW5kZXhlci13aWRnZXRzLXNkay93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly92aWRlby1pbmRleGVyLXdpZGdldHMtc2RrL3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJWSSIsIldpZGdldHMiLCJJbnNpZ2h0cyIsIlZJSW5zaWdodHNXaWRnZXQiLCJDdXN0b21JbnNpZ2h0cyIsIkN1c3RvbUluc2lnaHRzV2lkZ2V0IiwiZWxlbWVudElEIiwib3B0aW9ucyIsIl9iYXNlVXJsIiwiV2lkZ2V0R2VuZXJhbEVycm9yIiwidGhpcyIsImlmcmFtZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIndpZHRoIiwiaGVpZ2h0IiwicmVuZGVyIiwiZWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzcmMiLCJpZnJhbWVVcmwiLCJhcHBlbmRDaGlsZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb21tdW5pY2F0ZSIsImJpbmQiLCJ2YWx1ZSIsIkJhc2VXaWRnZXQiLCJtZXNzYWdlIiwiZXJyb3JOYW1lIiwibmFtZSIsIkVycm9yIiwiY29uZmlnIiwiZGVmYXVsdFBhdGgiLCJVUkwiLCJiYXNlVXJsIiwibG9jYWxlIiwic2VhcmNoUGFyYW1zIiwiYXBwZW5kIiwiYWNjZXNzVG9rZW4iLCJsb2NhdGlvbiIsImhyZWYiLCJldmVudCIsIm9yaWdpbiIsImV2ZW5EYXRhIiwiZGF0YSIsInR5cGUiLCJDdXN0b21JbnNpZ2h0c1dpZGdldE1lc3NhZ2UiLCJJTlNJR0hUU19XSURHRVRfTE9BREVEIiwiQ1VTVE9NX0lOU0lHSFRTX1dJREdFVF9JTklUIiwiY29udGVudFdpbmRvdyIsInBvc3RNZXNzYWdlIiwiZXJyb3IiLCJJbnNpZ2h0c1dpZGdldE1lc3NhZ2UiLCJJTlNJR0hUU19XSURHRVRfSU5JVCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCJdLCJtYXBwaW5ncyI6InlGQUFBLGFBR0FBLE9BQU9DLEdBQUtELE9BQU9DLElBQU0sR0FDekJELE9BQU9DLEdBQUdDLFFBQVVGLE9BQU9DLEdBQUdDLFNBQVcsR0FDekNGLE9BQU9DLEdBQUdDLFFBQVFDLFNBQVcsRUFBQUMsaUJBQzdCSixPQUFPQyxHQUFHQyxRQUFRRyxlQUFpQixFQUFBQyxzQiw4WUNMbkMsWUFHQSxhLDhZQ0pBLGEsaUpDQUEsYUFHQSxhQUlFLFdBQXNCQyxFQUFtQkMsR0FDdkMsR0FEb0IsS0FBQUQsWUFIZCxLQUFBRSxTQUFXLHlCQUlaRixFQUNILE1BQU0sSUFBSSxFQUFBRyxtQkFBbUIsd0JBRy9CLElBQUtG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b0IsNkhDSlRtRCxFQUEyQixJQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsR0FBR0YsRUFBeUJFLEdBQzNCLE9BQU9GLEVBQXlCRSxHQUFVQyxRQUczQyxJQUFJQyxFQUFTSixFQUF5QkUsR0FBWSxDQUdqREMsUUFBUyxJQU9WLE9BSEFFLEVBQW9CSCxHQUFVSSxLQUFLRixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUdwRUcsRUFBT0QsUUNqQmZGLENBQW9CLE0iLCJmaWxlIjoidmlTREsubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ3VzdG9tSW5zaWdodHNXaWRnZXQsIFZJSW5zaWdodHNXaWRnZXQgfSBmcm9tICcuL3NyYy93aWRnZXRzJztcclxuXHJcbi8vIFVwcGVyIGNhc2Vcclxud2luZG93LlZJID0gd2luZG93LlZJIHx8IHt9O1xyXG53aW5kb3cuVkkuV2lkZ2V0cyA9IHdpbmRvdy5WSS5XaWRnZXRzIHx8IHt9O1xyXG53aW5kb3cuVkkuV2lkZ2V0cy5JbnNpZ2h0cyA9IFZJSW5zaWdodHNXaWRnZXQ7XHJcbndpbmRvdy5WSS5XaWRnZXRzLkN1c3RvbUluc2lnaHRzID0gQ3VzdG9tSW5zaWdodHNXaWRnZXQ7XHJcbiIsIi8vIFdpbmRvdyBvYmplY3RcclxuZXhwb3J0ICogZnJvbSAnLi9nbG9iYWwuZGVmaW5pdGlvbnMnO1xyXG5cclxuLy8gTlBNIGV4cG9ydHNcclxuZXhwb3J0ICogZnJvbSAnLi9ucG0uZGVmaW5pdGlvbnMnO1xyXG4iLCJleHBvcnQgKiBmcm9tICcuL3NyYy93aWRnZXRzJztcclxuIiwiaW1wb3J0IHsgV2lkZ2V0R2VuZXJhbEVycm9yIH0gZnJvbSAnLi4vY29tbW9uL2Vycm9yJztcclxuaW1wb3J0IHsgSVdpZGdldE9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24vb3B0aW9ucyc7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZVdpZGdldCB7XHJcbiAgcHJpdmF0ZSBfYmFzZVVybCA9ICdodHRwOi8vbG9jYWxob3N0OjQxMDAnO1xyXG4gIHByb3RlY3RlZCBpZnJhbWU6IEhUTUxJRnJhbWVFbGVtZW50O1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgZWxlbWVudElEOiBzdHJpbmcsIG9wdGlvbnM6IElXaWRnZXRPcHRpb25zKSB7XHJcbiAgICBpZiAoIWVsZW1lbnRJRCkge1xyXG4gICAgICB0aHJvdyBuZXcgV2lkZ2V0R2VuZXJhbEVycm9yKCdzZWxlY3RvciBpcyByZXF1aXJlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghb3B0aW9ucykge1xyXG4gICAgICB0aHJvdyBuZXcgV2lkZ2V0R2VuZXJhbEVycm9yKCd3aWRnZXQgb3B0aW9ucyBhcmUgcmVxdWlyZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBZGQgYXR0cmlidXRlcyBmb3IgaWZyYW1lXHJcbiAgICB0aGlzLmlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xyXG4gICAgdGhpcy5pZnJhbWUud2lkdGggPSBgJHtvcHRpb25zLndpZHRofWA7XHJcbiAgICB0aGlzLmlmcmFtZS5oZWlnaHQgPSBgJHtvcHRpb25zLmhlaWdodH1gO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHJlbmRlcigpOiB2b2lkIHtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHt0aGlzLmVsZW1lbnRJRH1gKTtcclxuXHJcbiAgICBpZiAoIWVsZW1lbnQpIHtcclxuICAgICAgdGhyb3cgbmV3IFdpZGdldEdlbmVyYWxFcnJvcihgQ2FuJ3QgZmluZCBlbGVtZW50ICMke3RoaXMuZWxlbWVudElEfWApO1xyXG4gICAgfVxyXG4gICAgLy8gR2l2ZSBJRCB0byB0aGUgaWZyYW1lXHJcbiAgICB0aGlzLmlmcmFtZS5zcmMgPSB0aGlzLmlmcmFtZVVybDtcclxuICAgIGVsZW1lbnQ/LmFwcGVuZENoaWxkKHRoaXMuaWZyYW1lKTtcclxuXHJcbiAgICAvLyBMaXN0ZW4gdG8gbWVzc2FnZSBldmVudHMgZnJvbSBicmVha2Rvd24gaWZyYW1lXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMuY29tbXVuaWNhdGUuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBiYXNlVXJsKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2Jhc2VVcmw7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0IGJhc2VVcmwodmFsdWUpIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBnZXQgaWZyYW1lVXJsKCk6IHN0cmluZztcclxuXHJcbiAgcHJvdGVjdGVkIGFic3RyYWN0IGNvbW11bmljYXRlKHZlbnQ6IE1lc3NhZ2VFdmVudCk6IHZvaWQ7XHJcbn1cclxuIiwiLy8gYmFzZSB3aWRnZXRcclxuZXhwb3J0ICogZnJvbSAnLi9iYXNlLXdpZGdldCc7XHJcbiIsImV4cG9ydCBjbGFzcyBXaWRnZXRHZW5lcmFsRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgc3RhdGljIGVycm9yTmFtZSA9ICdXaWRnZXRHZW5lcmFsRXJyb3InO1xyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgbWVzc2FnZTogc3RyaW5nKSB7XHJcbiAgICBzdXBlcihgJHtXaWRnZXRHZW5lcmFsRXJyb3IuZXJyb3JOYW1lfTogbWVzc2FnZWApO1xyXG4gICAgdGhpcy5uYW1lID0gV2lkZ2V0R2VuZXJhbEVycm9yLmVycm9yTmFtZTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0ICogZnJvbSAnLi9lcnJvcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vb3B0aW9ucyc7XHJcbiIsIi8vIENvbW1vblxyXG5leHBvcnQgKiBmcm9tICcuL2NvbW1vbic7XHJcblxyXG4vLyBJbnNpZ2h0cyB3aWRnZXRcclxuZXhwb3J0ICogZnJvbSAnLi9pbnNpZ2h0cyc7XHJcblxyXG4vLyBCYXNlIGNvbmZpZ3VyYXRpb25zXHJcbmV4cG9ydCAqIGZyb20gJy4vYmFzZS13aWRnZXQtY29uZmlnLmRlZmluaXRpb25zJztcclxuZXhwb3J0ICogZnJvbSAnLi9sYW5ndWFnZXMuZGVmaW5pdGlvbnMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2xvY2FsZS5kZWZpbml0aW9ucyc7XHJcbiIsImltcG9ydCB7IEJhc2VXaWRnZXQgfSBmcm9tICcuLi8uLi9iYXNlJztcclxuaW1wb3J0IHsgV2lkZ2V0R2VuZXJhbEVycm9yIH0gZnJvbSAnLi4vLi4vY29tbW9uL2Vycm9yJztcclxuaW1wb3J0IHsgSVdpZGdldE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24vb3B0aW9ucyc7XHJcbmltcG9ydCB7IEN1c3RvbUluc2lnaHRzV2lkZ2V0TWVzc2FnZSwgSUN1c3RvbUluc2lnaHRzV2lkZ2V0Q29uZmlnIH0gZnJvbSAnLi9kZWZpbml0aW9ucy9jdXN0b20taW5zaWdodHMtY29uZmlnLmRlZmluaXRpb25zJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDdXN0b21JbnNpZ2h0c1dpZGdldCBleHRlbmRzIEJhc2VXaWRnZXQge1xyXG4gIHByaXZhdGUgY29uZmlnOiBJQ3VzdG9tSW5zaWdodHNXaWRnZXRDb25maWc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnRJRDogc3RyaW5nLCBvcHRpb25zOiBJV2lkZ2V0T3B0aW9ucywgY29uZmlnOiBJQ3VzdG9tSW5zaWdodHNXaWRnZXRDb25maWcpIHtcclxuICAgIHN1cGVyKGVsZW1lbnRJRCwgb3B0aW9ucyk7XHJcblxyXG4gICAgaWYgKCFjb25maWcpIHtcclxuICAgICAgdGhyb3cgbmV3IFdpZGdldEdlbmVyYWxFcnJvcignY29uZmlnIG9wdGlvbnMgYXJlIHJlcXVpcmVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jb25maWcgPSB7IC4uLmNvbmZpZyB9O1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIGdldCBpZnJhbWVVcmwoKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGRlZmF1bHRQYXRoID0gbmV3IFVSTChgJHt0aGlzLmJhc2VVcmx9L2VtYmVkL2luc2lnaHRzYCk7XHJcblxyXG4gICAgaWYgKHRoaXMuY29uZmlnPy5sb2NhbGUpIHtcclxuICAgICAgZGVmYXVsdFBhdGguc2VhcmNoUGFyYW1zLmFwcGVuZCgnbG9jYWxlJywgdGhpcy5jb25maWc/LmxvY2FsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuY29uZmlnLmFjY2Vzc1Rva2VuKSB7XHJcbiAgICAgIGRlZmF1bHRQYXRoLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ2FjY2Vzc1Rva2VuJywgdGhpcy5jb25maWc/LmFjY2Vzc1Rva2VuKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5jb25maWcubG9jYXRpb24pIHtcclxuICAgICAgZGVmYXVsdFBhdGguc2VhcmNoUGFyYW1zLmFwcGVuZCgnbG9jYXRpb24nLCB0aGlzLmNvbmZpZz8ubG9jYXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkZWZhdWx0UGF0aC5ocmVmO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIGNvbW11bmljYXRlKGV2ZW50OiBNZXNzYWdlRXZlbnQpIHtcclxuICAgIGlmICghZXZlbnQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgb3JpZ2luID0gZXZlbnQub3JpZ2luO1xyXG4gICAgY29uc3QgZXZlbkRhdGEgPSBldmVudC5kYXRhO1xyXG4gICAgaWYgKGV2ZW5EYXRhPy50eXBlID09PSBDdXN0b21JbnNpZ2h0c1dpZGdldE1lc3NhZ2UuSU5TSUdIVFNfV0lER0VUX0xPQURFRClcclxuICAgICAgaWYgKCdwb3N0TWVzc2FnZScgaW4gd2luZG93KSB7XHJcbiAgICAgICAgLy8gU2VuZCBkYXRhXHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICAgIHR5cGU6IEN1c3RvbUluc2lnaHRzV2lkZ2V0TWVzc2FnZS5DVVNUT01fSU5TSUdIVFNfV0lER0VUX0lOSVQsXHJcbiAgICAgICAgICAuLi50aGlzLmNvbmZpZ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHRoaXMuaWZyYW1lPy5jb250ZW50V2luZG93Py5wb3N0TWVzc2FnZShkYXRhLCBvcmlnaW4pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgV2lkZ2V0R2VuZXJhbEVycm9yKCdFcnJvciBnZXR0aW5nIHdpZGdldCBjb25maWd1cmF0aW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEFjY291bnRMb2NhdGlvbiwgSUluc2lnaHRzQ29uZmlnLCBQcmVzZXRUeXBlIH0gZnJvbSAnLi4vLi4vZGVmaW5pdGlvbnMvaW5zaWdodHMtY29uZmlnLmRlZmluaXRpb25zJztcclxuaW1wb3J0IHtcclxuICBJQXVkaW9FZmZlY3QsXHJcbiAgSUJsb2NrLFxyXG4gIElCcmFuZCxcclxuICBJQ3VzdG9tSXRlbUVsZW1lbnQsXHJcbiAgSUVtb3Rpb24sXHJcbiAgSUZyYW1lUGF0dGVybixcclxuICBJS2V5d29yZCxcclxuICBJTGFiZWwsXHJcbiAgSU5hbWVkTG9jYXRpb25zLFxyXG4gIElOYW1lZFBlb3BsZSxcclxuICBJT2NyLFxyXG4gIElTZW50aW1lbnQsXHJcbiAgSVNwZWFrZXIsXHJcbiAgSVRvcGljLFxyXG4gIElUcmFuc2NyaXB0TGluZVxyXG59IGZyb20gJy4vdmlkZW8taW5zaWdodHMuZGVmaW5pdGlvbnMnO1xyXG5cclxuZXhwb3J0IHR5cGUgVklJbnNpZ2h0c0RhdGFUeXBlID1cclxuICB8IElUcmFuc2NyaXB0TGluZVxyXG4gIHwgSU9jclxyXG4gIHwgSUtleXdvcmRcclxuICB8IElUb3BpY1xyXG4gIHwgSUxhYmVsXHJcbiAgfCBJQnJhbmRcclxuICB8IElOYW1lZFBlb3BsZVxyXG4gIHwgSU5hbWVkTG9jYXRpb25zXHJcbiAgfCBJU2VudGltZW50XHJcbiAgfCBJRW1vdGlvblxyXG4gIHwgSUJsb2NrXHJcbiAgfCBJRnJhbWVQYXR0ZXJuXHJcbiAgfCBJQXVkaW9FZmZlY3RcclxuICB8IElTcGVha2VyO1xyXG5cclxuZXhwb3J0IHR5cGUgaW5zaWdodHNUeXBlID0gJ2NhcHN1bGUnIHwgJ2NvbG9yLW1hcCc7XHJcblxyXG5leHBvcnQgdHlwZSBWSUluc2lnaHRzS2V5ID1cclxuICB8ICdmYWNlcydcclxuICB8ICdhbmltYXRlZENoYXJhY3RlcnMnXHJcbiAgfCAna2V5d29yZHMnXHJcbiAgfCAnbGFiZWxzJ1xyXG4gIHwgJ3NlbnRpbWVudHMnXHJcbiAgfCAnZW1vdGlvbnMnXHJcbiAgfCAndG9waWNzJ1xyXG4gIHwgJ3Nob3RzJ1xyXG4gIHwgJ2tleWZyYW1lcydcclxuICB8ICd0cmFuc2NyaXB0J1xyXG4gIHwgJ29jcidcclxuICB8ICdzcGVha2VycydcclxuICB8ICdzY2VuZXMnXHJcbiAgfCAnYnJhbmRzJ1xyXG4gIHwgJ25hbWVkUGVvcGxlJ1xyXG4gIHwgJ25hbWVkTG9jYXRpb25zJ1xyXG4gIHwgJ2F1ZGlvRWZmZWN0cydcclxuICB8ICdibG9ja3MnXHJcbiAgfCAnZnJhbWVQYXR0ZXJucyc7XHJcblxyXG5leHBvcnQgdHlwZSBWSVJhd0luc2lnaHRzS2V5ID1cclxuICB8ICdrZXl3b3JkcydcclxuICB8ICdsYWJlbHMnXHJcbiAgfCAnc2VudGltZW50cydcclxuICB8ICdlbW90aW9ucydcclxuICB8ICd0b3BpY3MnXHJcbiAgfCAndHJhbnNjcmlwdCdcclxuICB8ICdvY3InXHJcbiAgfCAnc3BlYWtlcnMnXHJcbiAgfCAnYnJhbmRzJ1xyXG4gIHwgJ25hbWVkUGVvcGxlJ1xyXG4gIHwgJ25hbWVkTG9jYXRpb25zJ1xyXG4gIHwgJ2F1ZGlvRWZmZWN0cydcclxuICB8ICdibG9ja3MnXHJcbiAgfCAnZnJhbWVQYXR0ZXJucyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElDdXN0b21EYXRhIHtcclxuICAvKipcclxuICAgKiBDdXN0b20gaW5zaWdodHMgZGF0YSB0aXRsZVxyXG4gICAqL1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgLyoqXHJcbiAgICogQ3VzdG9tIGluc2lnaHRzIGRhdGEga2V5XHJcbiAgICovXHJcbiAga2V5OiBzdHJpbmc7XHJcbiAgLyoqXHJcbiAgICogRGVmaW5lIHdoaWNoIHByZXNldHMgY29udHJvbHMgdGhpcyBpbnNpZ2h0c1xyXG4gICAqL1xyXG4gIHByZXNldHM6IFByZXNldFR5cGVbXTtcclxuICAvKipcclxuICAgKiBEZWZpbmUgaW5zaWdodHMgdHlwZSAoY2Fwc3VsZSAvIGNvbG9yIG1hcClcclxuICAgKi9cclxuICB0eXBlOiBpbnNpZ2h0c1R5cGU7XHJcbiAgLyoqXHJcbiAgICogQ3VzdG9tIGRhdGEgaXRlbXMuXHJcbiAgICovXHJcbiAgaXRlbXM6IElDdXN0b21JdGVtRWxlbWVudFtdO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElWUmF3SUluc2lnaHRzRGF0YSB7XHJcbiAgLyoqXHJcbiAgICogVmlkZW8gaW5kZXhlciBpbnNpZ2h0cyBjb21wb25lbnQgbmFtZVxyXG4gICAqL1xyXG4gIHJhd0luc2lnaHRzS2V5OiBWSVJhd0luc2lnaHRzS2V5O1xyXG4gIC8qKlxyXG4gICAqIEluc2lnaHRzIGRhdGEgaXRlbXMuXHJcbiAgICovXHJcbiAgaW5zaWdodHNJdGVtczogVklJbnNpZ2h0c0RhdGFUeXBlW107XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUN1c3RvbUluc2lnaHRzV2lkZ2V0Q29uZmlnIGV4dGVuZHMgSUluc2lnaHRzQ29uZmlnIHtcclxuICAvKipcclxuICAgKiBWaWRlbyBpbmRleGVyIGFjY291bnQgSWQuXHJcbiAgICogU2hvdWxkIGJlIHByb3ZpZGVkIGlmIHlvdSB3YW50IHRvIGV4dHJhY3QgZGF0YSBmcm9tIFZJXHJcbiAgICovXHJcbiAgYWNjb3VudElkPzogc3RyaW5nO1xyXG4gIC8qKlxyXG4gICAqIEVtYmVkZGVkIHZpZGVvIElEXHJcbiAgICogU2hvdWxkIGJlIHByb3ZpZGVkIGlmIHlvdSB3YW50IHRvIGV4dHJhY3QgZGF0YSBmcm9tIFZJXHJcbiAgICovXHJcbiAgdmlkZW9JZD86IHN0cmluZztcclxuICAvKipcclxuICAgKiBFbWJlZGRlZCB2aWRlbyBhY2Nlc3MgdG9rZW4uXHJcbiAgICogU2hvdWxkIGJlIHByb3ZpZGVkIGlmIHlvdSB3YW50IHRvIGV4dHJhY3QgZGF0YSBmcm9tIHByaXZhdGUgdmlkZW8gaW4gVklcclxuICAgKi9cclxuICBhY2Nlc3NUb2tlbj86IHN0cmluZztcclxuICAvKipcclxuICAgKiBMb2NhdGlvbiBpbmRpY2F0ZXMgYWNjb3VudCdzIGxvY2F0aW9uLlxyXG4gICAqIFNob3VsZCBiZSBwcm92aWRlZCBpZiB5b3Ugd2FudCB0byBleHRyYWN0IGRhdGEgZnJvbSBWSVxyXG4gICAqL1xyXG4gIGxvY2F0aW9uPzogQWNjb3VudExvY2F0aW9uO1xyXG4gIC8qKlxyXG4gICAqIFZpZGVvIGR1cmF0aW9uXHJcbiAgICovXHJcbiAgZHVyYXRpb246IG51bWJlcjtcclxuICAvKipcclxuICAgKiBWaWRlbyBpbmRleGVyIGluc2lnaHRzIGNvbXBvbmVudCBrZXkgbGlzdCwgZWFjaCBpbnNpZ2h0IGZyb20gdGhpcyBsaXN0IHdpbGwgYmUgdGFrZW4gZnJvbSBWSS5cclxuICAgKi9cclxuICB2aUluc2lnaHRzS2V5czogVklJbnNpZ2h0c0tleVtdO1xyXG4gIC8qKlxyXG4gICAqIFZpZGVvIGluZGV4ZXIgaW5zaWdodHMgcmF3IGRhdGEuIFVzZSBWSSBpbnNpZ2h0cyBjb21wb25lbnQgd2l0aCB5b3VyIG93biBkYXRhXHJcbiAgICovXHJcbiAgcmF3SW5zaWdodHNEYXRhOiBJVlJhd0lJbnNpZ2h0c0RhdGFbXTtcclxuICAvKipcclxuICAgKiBDdXN0b20gaW5zaWdodHMgZGF0YS4gUHJvdmlkZSB5b3VyIG93biBpbnNpZ2h0cyAtIHN1cHBvcnQgYm90aCBjYXBzdWxlcyBhbmQgY29sb3IgbWFwLlxyXG4gICAqL1xyXG4gIGN1c3RvbURhdGE6IElDdXN0b21EYXRhW107XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBXaWRnZXQgbWVzc2FnZXNcclxuICovXHJcbmV4cG9ydCBlbnVtIEN1c3RvbUluc2lnaHRzV2lkZ2V0TWVzc2FnZSB7XHJcbiAgSU5TSUdIVFNfV0lER0VUX0xPQURFRCA9ICdJTlNJR0hUU19XSURHRVRfTE9BREVEJyxcclxuICBDVVNUT01fSU5TSUdIVFNfV0lER0VUX0lOSVQgPSAnQ1VTVE9NX0lOU0lHSFRTX1dJREdFVF9JTklUJ1xyXG59XHJcbiIsImV4cG9ydCAqIGZyb20gJy4vY3VzdG9tLWluc2lnaHRzLWNvbmZpZy5kZWZpbml0aW9ucyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdmlkZW8taW5zaWdodHMuZGVmaW5pdGlvbnMnO1xyXG4iLCJleHBvcnQgKiBmcm9tICcuL2RlZmluaXRpb25zJztcclxuZXhwb3J0IHsgQ3VzdG9tSW5zaWdodHNXaWRnZXQgfSBmcm9tICcuL2N1c3RvbS1pbnNpZ2h0cy13aWRnZXQnO1xyXG4iLCJleHBvcnQgKiBmcm9tICcuL2luc2lnaHRzLWNvbmZpZy5kZWZpbml0aW9ucyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vaW5zaWdodHMtc3R5bGUtY29uZmlnLmRlZmluaXRpb25zJztcclxuIiwiZXhwb3J0ICogZnJvbSAnLi92aS1pbnNpZ2h0cyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vY3VzdG9tLWluc2lnaHRzJztcclxuZXhwb3J0ICogZnJvbSAnLi9kZWZpbml0aW9ucyc7XHJcbiIsImV4cG9ydCB7IElWSUluc2lnaHRzV2lkZ2V0Q29uZmlnLCBJbnNpZ2h0c1dpZGdldE1lc3NhZ2UgfSBmcm9tICcuL3ZpLXdpZGdldC1jb25maWcuZGVmaW5pdGlvbnMnO1xyXG4iLCJpbXBvcnQgeyBBY2NvdW50TG9jYXRpb24sIElJbnNpZ2h0c0NvbmZpZyB9IGZyb20gJy4uLy4uL2RlZmluaXRpb25zL2luc2lnaHRzLWNvbmZpZy5kZWZpbml0aW9ucyc7XHJcblxyXG4vKipcclxuICogVkkgV2lkZ2V0IGNvbmZpZ1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJVklJbnNpZ2h0c1dpZGdldENvbmZpZyBleHRlbmRzIElJbnNpZ2h0c0NvbmZpZyB7XHJcbiAgLyoqXHJcbiAgICogVmlkZW8gaW5kZXhlciBhY2NvdW50IElkLlxyXG4gICAqL1xyXG4gIGFjY291bnRJZDogc3RyaW5nO1xyXG4gIC8qKlxyXG4gICAqIEVtYmVkZGVkIHZpZGVvIElEXHJcbiAgICovXHJcbiAgdmlkZW9JZDogc3RyaW5nO1xyXG4gIC8qKlxyXG4gICAqIEVtYmVkZGVkIHZpZGVvIGFjY2VzcyB0b2tlbi5cclxuICAgKi9cclxuICBhY2Nlc3NUb2tlbj86IHN0cmluZztcclxuICAvKipcclxuICAgKiBMb2NhdGlvbiBpbmRpY2F0ZXMgYWNjb3VudCdzIGxvY2F0aW9uLlxyXG4gICAqL1xyXG4gIGxvY2F0aW9uPzogQWNjb3VudExvY2F0aW9uO1xyXG59XHJcblxyXG4vKipcclxuICogV2lkZ2V0IG1lc3NhZ2VzXHJcbiAqL1xyXG5leHBvcnQgZW51bSBJbnNpZ2h0c1dpZGdldE1lc3NhZ2Uge1xyXG4gIElOU0lHSFRTX1dJREdFVF9MT0FERUQgPSAnSU5TSUdIVFNfV0lER0VUX0xPQURFRCcsXHJcbiAgSU5TSUdIVFNfV0lER0VUX0lOSVQgPSAnSU5TSUdIVFNfV0lER0VUX0lOSVQnXHJcbn0iLCJleHBvcnQgKiBmcm9tICcuL2RlZmluaXRpb25zJztcclxuZXhwb3J0IHsgVklJbnNpZ2h0c1dpZGdldCB9IGZyb20gJy4vdmktaW5zaWdodHMtd2lkZ2V0JztcclxuIiwiaW1wb3J0IHsgQmFzZVdpZGdldCB9IGZyb20gJy4uLy4uL2Jhc2UnO1xyXG5pbXBvcnQgeyBXaWRnZXRHZW5lcmFsRXJyb3IgfSBmcm9tICcuLi8uLi9jb21tb24vZXJyb3InO1xyXG5pbXBvcnQgeyBJV2lkZ2V0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbi9vcHRpb25zJztcclxuaW1wb3J0IHsgSW5zaWdodHNXaWRnZXRNZXNzYWdlLCBJVklJbnNpZ2h0c1dpZGdldENvbmZpZyB9IGZyb20gJy4vZGVmaW5pdGlvbnMvdmktd2lkZ2V0LWNvbmZpZy5kZWZpbml0aW9ucyc7XHJcblxyXG5leHBvcnQgY2xhc3MgVklJbnNpZ2h0c1dpZGdldCBleHRlbmRzIEJhc2VXaWRnZXQge1xyXG4gIHByaXZhdGUgY29uZmlnOiBJVklJbnNpZ2h0c1dpZGdldENvbmZpZztcclxuXHJcbiAgY29uc3RydWN0b3IoZWxlbWVudElEOiBzdHJpbmcsIG9wdGlvbnM6IElXaWRnZXRPcHRpb25zLCBjb25maWc6IElWSUluc2lnaHRzV2lkZ2V0Q29uZmlnKSB7XHJcbiAgICBzdXBlcihlbGVtZW50SUQsIG9wdGlvbnMpO1xyXG5cclxuICAgIGlmICghY29uZmlnKSB7XHJcbiAgICAgIHRocm93IG5ldyBXaWRnZXRHZW5lcmFsRXJyb3IoJ2NvbmZpZyBvcHRpb25zIGFyZSByZXF1aXJlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY29uZmlnID0geyAuLi5jb25maWcgfTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBnZXQgaWZyYW1lVXJsKCk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBkZWZhdWx0UGF0aCA9IG5ldyBVUkwoYCR7dGhpcy5iYXNlVXJsfS9lbWJlZC9pbnNpZ2h0c2ApO1xyXG5cclxuICAgIGlmICh0aGlzLmNvbmZpZz8ubG9jYWxlKSB7XHJcbiAgICAgIGRlZmF1bHRQYXRoLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ2xvY2FsZScsIHRoaXMuY29uZmlnPy5sb2NhbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmNvbmZpZy5hY2Nlc3NUb2tlbikge1xyXG4gICAgICBkZWZhdWx0UGF0aC5zZWFyY2hQYXJhbXMuYXBwZW5kKCdhY2Nlc3NUb2tlbicsIHRoaXMuY29uZmlnPy5hY2Nlc3NUb2tlbik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuY29uZmlnLmxvY2F0aW9uKSB7XHJcbiAgICAgIGRlZmF1bHRQYXRoLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ2xvY2F0aW9uJywgdGhpcy5jb25maWc/LmxvY2F0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGVmYXVsdFBhdGguaHJlZjtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBjb21tdW5pY2F0ZShldmVudDogTWVzc2FnZUV2ZW50KTogdm9pZCB7XHJcbiAgICBpZiAoIWV2ZW50KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IG9yaWdpbiA9IGV2ZW50Lm9yaWdpbjtcclxuICAgIGNvbnN0IGV2ZW5EYXRhID0gZXZlbnQuZGF0YTtcclxuICAgIGlmIChldmVuRGF0YT8udHlwZSA9PT0gSW5zaWdodHNXaWRnZXRNZXNzYWdlLklOU0lHSFRTX1dJREdFVF9MT0FERUQpXHJcbiAgICAgIGlmICgncG9zdE1lc3NhZ2UnIGluIHdpbmRvdykge1xyXG4gICAgICAgIC8vIFNlbmQgd2lkZ2V0IGNvbmZpZ3VyYXRpb25cclxuICAgICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgICAgdHlwZTogSW5zaWdodHNXaWRnZXRNZXNzYWdlLklOU0lHSFRTX1dJREdFVF9JTklULFxyXG4gICAgICAgICAgLi4udGhpcy5jb25maWdcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICB0aGlzLmlmcmFtZT8uY29udGVudFdpbmRvdz8ucG9zdE1lc3NhZ2UoZGF0YSwgb3JpZ2luKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IFdpZGdldEdlbmVyYWxFcnJvcignRXJyb3IgZ2V0dGluZyB3aWRnZXQgY29uZmlndXJhdGlvbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gIH1cclxufVxyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxuX193ZWJwYWNrX3JlcXVpcmVfXygxNTApO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==