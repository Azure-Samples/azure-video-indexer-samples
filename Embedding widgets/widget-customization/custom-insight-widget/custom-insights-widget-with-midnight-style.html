<html>
  <head>
    <link rel="stylesheet" href="../style.css">
  </head>
  <body>
    <script src="../viSDK.min.js"></script>
    <h1>Customize insights widget</h1>
    <div id="container" class="widget-container"></div>
    <script>
      const midnightStyle = {
        highlight: 'rgba(80,230,255,1)',
        primary: 'rgba(80,230,255,1)',
        primaryHover: 'rgba(67,214,238,1)',
        primaryPress: 'rgba(64,199,222,1)',
        primaryDisable: 'rgba(255,255,255,0.120)',
        secondaryFill: 'rgba(8,18,34,1)',
        secondaryFillHover: 'rgba(255,255,255,0.080)',
        secondaryFillPress: 'rgba(255,255,255,0.120)',
        secondaryStroke: 'rgba(255,255,255,0.540)',
        componentFill: 'rgba(28,37,52,1)',
        componentStroke: 'rgba(255,255,255,0.620)',
        componentStrokeAlt: 'rgba(255,255,255,0.760)',
        playStatus: 'rgba(80,230,255,0.250)',
        playStatusAlt: 'rgba(80,230,255,1)',
        headerActions: 'rgba(255,255,255,1)',
        headerHovers: 'rgba(255,255,255,0.380)',
        headerHoversAlt: 'rgba(255,255,255,0.760)',
        headerBg: 'rgba(28,28,28,1)',
        dividers: 'rgba(255,255,255,0.080)',
        dividersAlt: 'rgba(255,255,255,0.120)',
        dividersPanel: 'rgba(255,255,255,0.200)',
        bgPrimary: 'rgba(8,18,34,1)',
        bgSecondary: 'rgba(8,18,34,1)',
        typePrimary: 'rgba(255,250,209,1)',
        typeSecondary: 'rgba(255,250,209,0.760)',
        typeDisabled: 'rgba(255,250,209,0.380)',
        typeDisabledAlt: 'rgba(255,250,209,0.220)',
        emotionJoy: 'rgba(242,195,74,1)',
        emotionFear: 'rgba(192,125,255,1)',
        emotionSadness: 'rgba(77,157,255,1)',
        emotionAnger: 'rgba(255,107,107,1)',
        sentimentPositive: 'rgba(80,230,255,1)',
        sentimentNegative: 'rgba(255,107,107,1)',
        videoMenuBg: 'rgba(0,0,0,0.800)',
        videoShade: 'rgba(255,255,255,0.380)',
        errorType: 'rgba(241,112,123,1)',
        errorArea: 'rgba(208,46,0,1)',
        errorAreaTint: 'rgba(62,29,34,1)',
        warningArea: 'rgba(62,59,29,1)',
        shadow: 'rgba(0,0,0,0.760)'
      };

      // Create raw vi data
      const emotions = [
        {
          id: 1,
          type: 'Joy',
          instances: [
            {
              adjustedEnd: '0:06:46.15',
              adjustedStart: '0:06:42.086',
              confidence: 0.6808,
              end: '0:06:46.15',
              start: '0:06:42.086'
            }
          ]
        },
        {
          id: 2,
          type: 'Sad',
          instances: [
            {
              adjustedEnd: '0:10:18.957',
              adjustedStart: '0:09:59.306',
              confidence: 0.8383,
              end: '0:10:18.957',
              start: '0:09:59.306'
            }
          ]
        }
      ];

      const sentiments = [
        {
          averageScore: 0.5,
          id: 1,
          sentimentType: 'Neutral',
          instances: [
            {
              adjustedEnd: '0:06:42.086',
              adjustedStart: '0:00:00',
              end: '0:06:42.086',
              start: '0:00:00'
            }
          ]
        },
        {
          id: 2,
          sentimentType: 'Positive',
          averageScore: 0.9521,
          instances: [
            {
              adjustedEnd: '0:06:46.15',
              adjustedStart: '0:06:42.086',
              end: '0:06:46.15',
              start: '0:06:42.086'
            }
          ]
        },
        {
          id: 3,
          sentimentType: 'Negative',
          averageScore: 0.1677,
          instances: [
            {
              adjustedEnd: '0:10:18.957',
              adjustedStart: '0:09:59.306',
              end: '0:10:18.957',
              start: '0:09:59.306'
            }
          ]
        }
      ];

      const topics = [
        {
          confidence: 0.7577,
          id: 1,
          name: 'Brand Audit',
          referenceId: 'Brand Audit',
          language: 'en-US',
          instances: [
            {
              adjustedEnd: '0:01:52.838',
              adjustedStart: '0:00:13.712',
              end: '0:01:52.838',
              start: '0:00:13.712'
            },
            {
              adjustedEnd: '0:03:16.21',
              adjustedStart: '0:02:08.093',
              end: '0:03:16.21',
              start: '0:02:08.093'
            }
          ]
        },
        {
          confidence: 0.4893,
          iabName: 'News and Politics',
          id: 23,
          instances: [
            {
              adjustedEnd: '0:02:59.015',
              adjustedStart: '0:00:08.421',
              end: '0:02:59.015',
              start: '0:00:08.421'
            }
          ],
          iptcName: 'Politics/election',
          language: 'en-US',
          name: 'Political Campaigns and Elections',
          referenceId: 'Politics and Government/Political Campaigns and Elections',
          referenceType: 'VideoIndexer'
        },
        {
          confidence: 0.6453,
          iabName: 'Business and Finance',
          id: 14,
          instances: [
            {
              adjustedEnd: '0:02:37.644',
              adjustedStart: '0:00:00',
              end: '0:02:37.644',
              start: '0:00:00'
            },
            {
              adjustedEnd: '0:04:01.497',
              adjustedStart: '0:03:39.322',
              end: '0:04:01.497',
              start: '0:03:39.322'
            },
            {
              adjustedEnd: '0:05:00.968',
              adjustedStart: '0:04:36.6',
              end: '0:05:00.968',
              start: '0:04:36.6'
            }
          ],
          iptcName: 'Economy, Business and Finance/business (general)',
          language: 'en-US',
          name: 'Brand Strategy',
          referenceId: 'Business/Product Development/Brand Strategy',
          referenceType: 'VideoIndexer'
        }
      ];

      const insightsConfig = {
        duration: 634,
        rawInsightsData: [ // Render emotions, sentiments and topics
          {
            rawInsightsKey: 'emotions',
            insightsItems: emotions
          },
          {
            rawInsightsKey: 'sentiments',
            insightsItems: sentiments
          },
          {
            rawInsightsKey: 'topics',
            insightsItems: topics
          }
        ],
        customData: [],
        viInsightsKeys: [],
        style: {
          customStyle: midnightStyle
        }
      };

      let widget = new VI.Widgets.CustomInsights(
        'container',
        {
          height: 780,
          width: 580
        },
        insightsConfig
      );

      widget.render();
    </script>
  </body>
</html>
